{"version":3,"sources":["webpack:///webpack/bootstrap 5e1adeec9b2a2bda948d","webpack:///./integrations/helper/zip.js","webpack:///./integrations/fusionCharts.js","webpack:///./integrations/fusionChartsIndex.js"],"names":["zipHeadersWithValues","columnHeaders","columnValues","key","map","item","index","obj","value","FusionChartsWrapper","fusionChartsRootId","hotInstance","name","chart","FusionCharts","getChartOptions","render","column","args","dataSource","data","setJSONData","id","type","renderAt","width","height","dataFormat","caption","xAxisName","yAxisName","getSettings","colHeaders","getDataAtRow","chartWrappers","onAfterInit","push","onBeforeChange","changes","forEach","change","chartWrapper","row","currentValue","setDataAtCell","updateChartData","document","addEventListener","Handsontable","getElementById","rowHeaders","maxRows","stretchH","allowInvalid","afterInit","beforeChange"],"mappings":"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","file":"fusionCharts.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e1adeec9b2a2bda948d","/**\n* Helper function.\n*\n* Zip column header to the value of the column from Handsontable object settings.\n* amCharts/FusionCharts data provider needs data array in form:\n*\n* @example\n* {\n*  \"key\": \"May\",\n*  \"value\": 144\n* }\n*\n* @param {String} columnHeaders column headers from Handsontable object settings.\n* @param {Number} columnValues column values from Handsontable object settings.\n* @returns {Array} a merged key-value pair in array.\n*/\nfunction zipHeadersWithValues(columnHeaders, columnValues, key) {\n  return columnHeaders.map((item, index) => {\n    const obj = {};\n\n    obj[key] = item;\n    obj.value = columnValues[index];\n\n    return obj;\n  });\n}\n\nexport default zipHeadersWithValues;\n\n\n\n// WEBPACK FOOTER //\n// ./integrations/helper/zip.js","import zipHeadersWithValues from './helper/zip';\n\n/**\n* A FusionCharts data visualisation.\n*\n* Create FusionCharts instance linked with data from Handsontable.\n*\n* @class FusionChartsWrapper.\n*/\nclass FusionChartsWrapper {\n/**\n* Create a FusionChartsWrapper.\n* @param {string} fusionChartsRootId - element id.\n* @param {object} hotInstance - a reference to the Handsontable instance.\n*/\n  constructor(fusionChartsRootId, hotInstance) {\n    this.name = 'fusioncharts';\n    this.chart = new FusionCharts(FusionChartsWrapper\n      .getChartOptions(fusionChartsRootId, hotInstance))\n    .render();\n  }\n\n/**\n*\n* FusionCharts options object.\n*\n* @returns {Object} FusionCharts object configs.\n*/\n  static getChartOptions(fusionChartsRootId, hotInstance) {\n    return {\n      id: 'fusionChart',\n      type: 'column2d',\n      renderAt: fusionChartsRootId,\n      width: 650,\n      height: 420,\n      dataFormat: 'json',\n      dataSource: {\n        chart: {\n          caption: 'FusionCharts & Handsontable',\n          xAxisName: 'Month',\n          yAxisName: 'Values',\n        },\n        data: zipHeadersWithValues(\n          hotInstance.getSettings().colHeaders, hotInstance.getDataAtRow(0), 'label'),\n      },\n    };\n  }\n\n/**\n*\n* Watches changes from Handsontable and updates it in the chart.\n*\n* @param {Number} column column index.\n* @param {Number} value column value.\n*\n*/\n  updateChartData(column, value) {\n    this.chart.args.dataSource.data[column].value = value;\n\n    this.chart.setJSONData(this.chart.args.dataSource);\n  }\n}\n\nexport default FusionChartsWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./integrations/fusionCharts.js","import FusionChartsWrapper from './fusionCharts';\n\nconst chartWrappers = [];\n\nfunction onAfterInit() {\n  chartWrappers.push(new FusionChartsWrapper('chart', this));\n}\n\nfunction onBeforeChange(changes) {\n  changes.forEach((change) => {\n    chartWrappers.forEach((chartWrapper) => {\n      const [row, column] = change;\n      const currentValue = change[3] === '' ? 0 : change[3];\n\n      if (change[3] === '') {\n        this.setDataAtCell(row, column, 0, 'onBeforeChange');\n      }\n\n      chartWrapper.updateChartData(column, currentValue);\n    });\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // eslint-disable-next-line no-new\n  new Handsontable(document.getElementById('root'), {\n    data: [\n      [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],\n    ],\n    colHeaders: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    rowHeaders: true,\n    type: 'numeric',\n    width: 650,\n    maxRows: 1,\n    stretchH: 'all',\n    allowInvalid: false,\n    afterInit: onAfterInit,\n    beforeChange: onBeforeChange,\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./integrations/fusionChartsIndex.js"],"sourceRoot":""}